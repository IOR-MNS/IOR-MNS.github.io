var displayImg="none",displayName=!0,displayRarity=!0,filterRarity=[1,2,3,4,5,6],loadConfig=function(){displayImg=JSON.parse(localStorage.getItem("recr_display_img"));displayName=JSON.parse(localStorage.getItem("recr_display_name"));displayRarity=JSON.parse(localStorage.getItem("recr_display_rarity"));filterRarity=JSON.parse(localStorage.getItem("recr_filter_rarity"));displayImg="string"!==typeof displayImg?"none":displayImg;displayImg=displayImg.toLowerCase();displayImg=0>"tiny|small|medium|large".indexOf(displayImg)?
"none":displayImg;displayName="boolean"!==typeof displayName?!0:displayName;displayRarity="boolean"!==typeof displayRarity?!0:displayRarity;filterRarity=Array.isArray(filterRarity)?filterRarity:[];selectConfig()},selectConfig=function(){$("#display_img_"+displayImg).prop("checked",!0);$("#display_name_"+String(displayName)).prop("checked",!0);$("#display_rarity_"+String(displayRarity)).prop("checked",!0);for(var a=1;6>=a;++a)0<=filterRarity.indexOf(a)?$("#filter_rarity_"+String(a)).prop("checked",
!1):$("#filter_rarity_"+String(a)).prop("checked",!0)},fetchConfig=function(){displayImg=$('#config-modal [name="display_img"]:checked').attr("id").split("_")[2];displayName=JSON.parse($('#config-modal [name="display_name"]:checked').attr("id").split("_")[2]);displayRarity=JSON.parse($('#config-modal [name="display_rarity"]:checked').attr("id").split("_")[2]);filterRarity=[];$filterRarityList=$('#config-modal [name="filter_rarity"]:not(:checked)');for(var a=0;a<$filterRarityList.length;++a)filterRarity.push(Number($filterRarityList.eq(a).attr("id").split("_")[2]));
localStorage.setItem("recr_display_img",JSON.stringify(displayImg));localStorage.setItem("recr_display_name",JSON.stringify(displayName));localStorage.setItem("recr_display_rarity",JSON.stringify(displayRarity));localStorage.setItem("recr_filter_rarity",JSON.stringify(filterRarity))},openConfigModal=function(){selectConfig();$("#config-modal").css("display","block")},closeConfigModal=function(){fetchConfig();showResult();$("#config-modal").css("display","none")};
$(document).ready(function(){loadConfig();$(".menu-btn").click(function(){openConfigModal()});$(".close-btn").click(function(){closeConfigModal()});$(window).click(function(a){$(a.target).is($("#config-modal"))&&closeConfigModal()})});
