var generateTagCodes=function(b,a,e,c,g,d,f){g="undefined"===typeof g?0:g;d="undefined"===typeof d?0:d;f="undefined"===typeof f?0:f;if(g>=e)return a[c]=f,c+1;for(;d<b.length;++d)c=generateTagCodes(b,a,e,c,g+1,d+1,f|b[d]);return c},getAvailableOperatorIDs=function(b,a){var e=a.length=0,c=function(a){for(var b=0;b<data.tagData.length;++b)if(a==data.tagData[b].name.kr)return data.tagData[b].tagCode;console.log("calc.js, getAvailableOperatorIDs(), getTagCodeKR()\uc5d0\uc11c \uc5d0\ub7ec \ubc1c\uc0dd");
console.log("\uc785\ub825\uac12: ",a);return!1},g=c("\ucd9c\ud604\ubd88\uac00"),d=c("\uace0\uae09\ud2b9\ubcc4\ucc44\uc6a9");c=c("\ud2b9\ubcc4\ucc44\uc6a9");if(!1===g||!1===d||!1===c)return!1;for(var f=0;f<data.opData.length;++f){var h=data.opData[f];(b&h.tagCode)==b&&0==(g&h.tagCode)&&(0!=(d&b)?0!=(d&h.tagCode)&&(a[e++]=h.id):0!=(c&b)?0!=(c&h.tagCode)&&(a[e++]=h.id):0==(d&h.tagCode)&&(a[e++]=h.id))}},getLowestRarity=function(b){for(var a=0,e=b.length-1;0<=e;--e){a=data.opData[b[e]].rarity;if(3<=a)break;
if(0===e){a=data.opData[b[b.length-1]].rarity;break}}return a},calc=function(b){if(0==b.length)return[];for(var a=0;a<b.length;++a)if(0>b[a]||b[a]>=data.length)return[];var e=[],c=[];for(a=0;a<b.length;++a)e[a]=data.tagData[b[a]].tagCode;a=1;for(var g=0;a<=b.length;++a)g=generateTagCodes(e,c,a,g);b=[];for(e=a=0;a<c.length;++a){g=c[a];var d=[];getAvailableOperatorIDs(c[a],d);if(0<d.length){d.sort(function(a,b){var c=data.opData[a].rarity,d=data.opData[b].rarity;if(c>d)return-1;if(c<d)return 1;a=data.opData[a].name[getLang()];
b=data.opData[b].name[getLang()];return a<b?-1:a>b?1:0});var f={};f.tagCode=g;f.opIDs=d;f.lowestRarity=getLowestRarity(d);b[e++]=f}}b.sort(function(a,b){var c=a.opIDs,d=b.opIDs;a=a.lowestRarity;b=b.lowestRarity;if(a>b)return-1;if(a<b)return 1;b=data.opData[c[0]].rarity;a=data.opData[d[0]].rarity;return b>a?-1:b<a?1:c.length<d.length?-1:c.length>d.length?1:0});return b};
