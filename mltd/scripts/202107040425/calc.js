var t1=0,t2=0,trd={init:[],calc:[],gd:[]},dailyPlaytime=-1,preserveItemForBoost=!1,daily=[],day=0,targetPoint=0,isBoost=!1,tabStatus="live",MAX_TICKET=500,worstCase=!0,recvItem=!1,recvBoost=!1,recvDailyMission=!1,init=function(){t1=Date.now();recvItem=document.getElementById("recvItem").checked;recvBoost=document.getElementById("recvBoost").checked;recvDailyMission=document.getElementById("recvDailyMission").checked;getEventData();setFundamentalData();getTimeData();getTargetPoint();getDailyData();
day=0;preserveItemForBoost=isBoost=!1;tabStatus="live";MAX_TICKET=500;MAX_BOOST=2;trd.init.push(Date.now()-t1)},getEventData=function(){e.type=document.getElementById("eventType").value;e.days=Number(document.getElementById("days").value);e.start=3600*Number(document.getElementById("playStart_hour").value)+60*Number(document.getElementById("playStart_min").value);e.end=3600*Number(document.getElementById("playEnd_hour").value)+60*Number(document.getElementById("playEnd_min").value);e.refreshTime=
3600*Number(document.getElementById("refreshTime_hour").value)},getTimeData=function(){t.useDrink=Number(document.getElementById("timeData_useDrink").value);t.useJwl=Number(document.getElementById("timeData_useJwl").value);t.doWork=Number(document.getElementById("timeData_doWork").value);t.doLive=Number(document.getElementById("timeData_doLive").value);t.doEventLive=Number(document.getElementById("timeData_doEventLive").value);t.goWorkTab=Number(document.getElementById("timeData_goWorkTab").value);
t.goLiveTab=Number(document.getElementById("timeData_goLiveTab").value)},getTargetPoint=function(){targetPoint=Number(document.getElementById("playerData_target").value)},e={type:"",start:0,end:0,days:0,refreshTime:0},t={useDrink:0,useJwl:0,doWork:0,doLive:0,doEventLive:0,goWorkTab:0,goLiveTab:0},f={live:{dif2m:{},dif2mp:{},dif4m:{},dif6m:{},difmm:{}},eventLive:{dif2m:{},dif2mp:{},dif4m:{},dif6m:{},difmm:{}},work:{dif15:{},dif20:{},dif25:{},dif30:{}}},setFundamentalData=function(){f.live.dif2m.cons=
15;f.live.dif2m.fan=60;f.live.dif2m.money=630;f.live.dif2m.affection=12;f.live.dif2m.exp=150;f.live.dif2mp.cons=25;f.live.dif2mp.fan=100;f.live.dif2mp.money=1200;f.live.dif2mp.affection=24;f.live.dif2mp.exp=260;f.live.dif4m.cons=20;f.live.dif4m.fan=78;f.live.dif4m.money=900;f.live.dif4m.affection=18;f.live.dif4m.exp=204;f.live.dif6m.cons=25;f.live.dif6m.fan=97;f.live.dif6m.money=1200;f.live.dif6m.affection=24;f.live.dif6m.exp=260;f.live.difmm.cons=30;f.live.difmm.fan=120;f.live.difmm.money=1350;f.live.difmm.affection=
30;f.live.difmm.exp=306;f.eventLive=JSON.parse(JSON.stringify(f.live));f.work.dif15.cons=15;f.work.dif15.point=0;f.work.dif15.item=0;f.work.dif15.fan=30;f.work.dif15.money=473;f.work.dif15.affection=7;f.work.dif15.exp=108;f.work.dif15.ticket=0;f.work.dif20.cons=20;f.work.dif20.point=0;f.work.dif20.item=0;f.work.dif20.fan=40;f.work.dif20.money=630;f.work.dif20.affection=9;f.work.dif20.exp=143;f.work.dif20.ticket=0;f.work.dif25.cons=25;f.work.dif25.point=0;f.work.dif25.item=0;f.work.dif25.fan=50;f.work.dif25.money=
788;f.work.dif25.affection=11;f.work.dif25.exp=179;f.work.dif25.ticket=0;f.work.dif30.cons=30;f.work.dif30.point=0;f.work.dif30.item=0;f.work.dif30.fan=60;f.work.dif30.money=945;f.work.dif30.affection=15;f.work.dif30.exp=215;f.work.dif30.ticket=0;"theater"==e.type||"3rd"==e.type||"4th"==e.type?(f.live.dif2m.point=35,f.live.dif2m.item=35,f.live.dif2mp.point=62,f.live.dif2mp.item=62,f.live.dif4m.point=49,f.live.dif4m.item=49,f.live.dif6m.point=64,f.live.dif6m.item=64,f.live.difmm.point=85,f.live.difmm.item=
85,f.eventLive.dif2m.cons=180,f.eventLive.dif2mp.cons=180,f.eventLive.dif4m.cons=180,f.eventLive.dif6m.cons=180,f.eventLive.difmm.cons=180,f.eventLive.dif2m.point=537,f.eventLive.dif2mp.point=537,f.eventLive.dif4m.point=537,f.eventLive.dif6m.point=537,f.eventLive.difmm.point=537,f.work.dif20.ticket=20,f.work.dif25.ticket=25,f.work.dif30.ticket=30):"tour"==e.type&&(f.live.dif2m.point=70,f.live.dif2m.item=3,f.live.dif2mp.point=116,f.live.dif2mp.item=5,f.live.dif4m.point=93,f.live.dif4m.item=4,f.live.dif6m.point=
116,f.live.dif6m.item=5,f.live.difmm.point=140,f.live.difmm.item=6,f.eventLive.dif2m.cons=20,f.eventLive.dif2mp.cons=20,f.eventLive.dif4m.cons=20,f.eventLive.dif6m.cons=20,f.eventLive.difmm.cons=20,f.eventLive.dif2m.point=720,f.eventLive.dif2mp.point=720,f.eventLive.dif4m.point=720,f.eventLive.dif6m.point=720,f.eventLive.difmm.point=720,f.work.dif15.point=24,f.work.dif15.item=3,f.work.dif20.point=32,f.work.dif20.item=4,f.work.dif25.point=40,f.work.dif25.item=5,f.work.dif30.point=48,f.work.dif30.item=
6);"3rd"!=e.type&&"4th"!=e.type||["dif2m","dif2mp","dif4m","dif6m","difmm"].forEach(function(a){["exp","affection","fan","money"].forEach(function(b){f.eventLive[a][b]*=2})})},setEarningData=function(a){var b=1;1==a.playRecommend&&(b=1.2);var c="dif"+a.staminaRun.dif;var g=a.staminaRun.mul;a.staminaRun.earning.point=Math.ceil(g*b*f.live[c].point);a.staminaRun.earning.item=a.staminaRun.earning.point;a.staminaRun.earning.fan=f.live[c].fan;a.staminaRun.earning.money=f.live[c].money;a.staminaRun.earning.affection=
f.live[c].affection;a.staminaRun.earning.exp=f.live[c].exp;c="dif"+a.staminaRun.boost.dif;g=a.staminaRun.boost.mul;a.staminaRun.boost.earning.point=2*Math.ceil(g*b*f.live[c].point);a.staminaRun.boost.earning.item=a.staminaRun.boost.earning.point;a.staminaRun.boost.earning.fan=f.live[c].fan;a.staminaRun.boost.earning.money=f.live[c].money;a.staminaRun.boost.earning.affection=f.live[c].affection;a.staminaRun.boost.earning.exp=f.live[c].exp;c="dif"+a.ticketRun.dif;g=a.ticketRun.mul;a.ticketRun.earning.point=
Math.ceil(.7*g*b*f.live[c].point);a.ticketRun.earning.item=a.ticketRun.earning.point;a.ticketRun.earning.fan=parseInt(.5*g*f.live[c].fan,10);a.ticketRun.earning.money=0;a.ticketRun.earning.affection=parseInt(.5*g*f.live[c].affection,10);a.ticketRun.earning.exp=0;c="dif"+a.ticketRun.boost.dif;g=a.ticketRun.boost.mul;a.ticketRun.boost.earning.point=2*Math.ceil(.7*g*b*f.live[c].point);a.ticketRun.boost.earning.item=a.ticketRun.boost.earning.point;a.ticketRun.boost.earning.fan=parseInt(.5*g*f.live[c].fan,
10);a.ticketRun.boost.earning.money=0;a.ticketRun.boost.earning.affection=parseInt(.5*g*f.live[c].affection,10);a.ticketRun.boost.earning.exp=0;c="dif"+a.eventRun.dif;g=a.eventRun.mul;a.eventRun.earning.point=g*f.eventLive[c].point;a.eventRun.earning.item=0;a.eventRun.earning.fan=f.eventLive[c].fan;a.eventRun.earning.money=f.eventLive[c].money;a.eventRun.earning.affection=f.eventLive[c].affection;a.eventRun.earning.exp=f.eventLive[c].exp;c="dif"+a.eventRun.boost.dif;g=a.eventRun.boost.mul;a.eventRun.boost.earning.point=
2*Math.ceil(g*f.eventLive[c].point);a.eventRun.boost.earning.item=0;a.eventRun.boost.earning.fan=f.eventLive[c].fan;a.eventRun.boost.earning.money=f.eventLive[c].money;a.eventRun.boost.earning.affection=f.eventLive[c].affection;a.eventRun.boost.earning.exp=f.eventLive[c].exp;c="dif"+a.work.dif;g=a.work.mul;a.work.earning.point=g*f.work[c].point;a.work.earning.item=g*f.work[c].item;a.work.earning.ticket=g*f.work[c].ticket;a.work.earning.fan=f.work[c].fan;a.work.earning.money=f.work[c].money;a.work.earning.affection=
f.work[c].affection;a.work.earning.exp=f.work[c].exp},getPlayerData=function(a){"boost level exp stamina ticket item drink10 drink20 drink30 mdrink jwl staminaUsage".split(" ").forEach(function(b){a[b]=Number(document.getElementById("playerData_"+b).value)})},getDailyData=function(){t2=Date.now();var a=0;document.querySelectorAll("#dailyInputForm").forEach(function(b){for(var c=e.days,g=0;g<c;g++){++a;if(a>e.days){alert("\uc785\ub825\uac12 \uc624\ub958: \uc124\uc815 \uc801\uc6a9 \uc77c\uc218\ub97c \ub2e4\uc2dc \ud55c\ubc88 \ud655\uc778\ud574\uc8fc\uc138\uc694. \uc774\ubca4\ud2b8 \uc9c4\ud589 \uc77c\uc218\ubcf4\ub2e4 \uae38\uac8c \uc124\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");
break}var d={playRecommend:0,staminaRun:{earning:{point:0,item:0,fan:0,money:0,affection:0,exp:0},mul:0,dif:"",cons:0,boost:{earning:{point:0,item:0,fan:0,money:0,affection:0,exp:0},mul:0,dif:"",cons:0}},ticketRun:{earning:{point:0,item:0,fan:0,money:0,affection:0},mul:0,dif:"",cons:0,boost:{earning:{point:0,item:0,fan:0,money:0,affection:0},mul:0,dif:"",cons:0}},work:{earning:{ticket:0,fan:0,money:0,affection:0,exp:0},mul:0,dif:"",cons:0},eventRun:{earning:{point:0,fan:0,money:0,affection:0,exp:0},
mul:0,dif:"",cons:0,boost:{earning:{point:0,fan:0,money:0,affection:0,exp:0},mul:0,dif:"",cons:0}},totalEventTime:0,time:{live:0,eventLive:0,work:0,etc:0},boost:0,level:0,exp:0,stamina:0,ticket:0,item:0,drink10:0,drink20:0,drink30:0,mdrink:0,jwl:0,fan:{work:0,live:0,eventLive:0},money:{work:0,live:0,eventLive:0},affection:{work:0,live:0,eventLive:0},maxTime:0,playData:{targetPoint:0,time:0,totalPoint:0,work:0,staminaRun:0,ticketRun:0,eventRun:0,boost:0},initialQuota:{staminaRun:0,ticketRun:0,eventRun:0,
boost:{staminaRun:0,ticketRun:0,eventRun:0}},leftQuota:{staminaRun:0,ticketRun:0,eventRun:0,boost:{staminaRun:0,ticketRun:0,eventRun:0}}};d.playRecommend=Number(b.querySelector('[name="playRecommend"]').checked);d.staminaRun.mul=Number(b.querySelector('[name="staminaRunMul"]').value);d.staminaRun.dif=b.querySelector('[name="staminaRunDif"]').value;d.staminaRun.cons=d.staminaRun.mul*f.live["dif"+d.staminaRun.dif].cons;d.staminaRun.boost.mul=Number(b.querySelector('[name="staminaRunBoostMul"]').value);
d.staminaRun.boost.dif=b.querySelector('[name="staminaRunBoostDif"]').value;d.staminaRun.boost.cons=d.staminaRun.boost.mul*f.live["dif"+d.staminaRun.boost.dif].cons;d.ticketRun.mul=Number(b.querySelector('[name="ticketRunMul"]').value);d.ticketRun.dif=b.querySelector('[name="ticketRunDif"]').value;d.ticketRun.cons=d.ticketRun.mul*f.live["dif"+d.ticketRun.dif].cons;d.ticketRun.boost.mul=Number(b.querySelector('[name="ticketRunBoostMul"]').value);d.ticketRun.boost.dif=b.querySelector('[name="ticketRunBoostDif"]').value;
d.ticketRun.boost.cons=d.ticketRun.boost.mul*f.live["dif"+d.ticketRun.boost.dif].cons;d.eventRun.mul=Number(b.querySelector('[name="eventRunMul"]').value);d.eventRun.dif=b.querySelector('[name="eventRunDif"]').value;d.eventRun.cons=d.eventRun.mul*f.eventLive["dif"+d.eventRun.dif].cons;d.eventRun.boost.mul=Number(b.querySelector('[name="eventRunBoostMul"]').value);d.eventRun.boost.dif=b.querySelector('[name="eventRunBoostDif"]').value;d.eventRun.boost.cons=d.eventRun.boost.mul*f.eventLive["dif"+d.eventRun.boost.dif].cons;
d.work.mul=Number(b.querySelector('[name="workMul"]').value);d.work.dif=b.querySelector('[name="workDif"]').value;d.work.cons=d.work.mul*f.work["dif"+d.work.dif].cons;setEarningData(d);1==a?(d.totalEventTime=86400-e.start,0==recvBoost&&(d.totalEventTime-=e.refreshTime)):a==e.days?(d.totalEventTime=e.end,"4th"!=e.type&&(d.totalEventTime-=e.refreshTime)):d.totalEventTime=86400-e.refreshTime;0>d.totalEventTime&&(d.totalEventTime=0);getPlayerData(d);d.maxTime=d.totalEventTime;d.playData.totalPoint=Number(document.querySelector("#playerData_point").value);
d.playData.targetPoint=1==worstCase?targetPoint:d.playData.totalPoint+a*Math.ceil((targetPoint-d.playData.totalPoint)/e.days);d.initialQuota.staminaRun=Number(b.querySelector('[name="staminaRunQuota"]').value);d.initialQuota.ticketRun=Number(b.querySelector('[name="ticketRunQuota"]').value);d.initialQuota.eventRun=0==d.eventRun.mul?0:"Infinity";d.initialQuota.boost.staminaRun=boost.staminaRun;d.initialQuota.boost.ticketRun=boost.ticketRun;d.initialQuota.boost.eventRun=boost.eventRun;d.leftQuota=JSON.parse(JSON.stringify(d.initialQuota));
daily[a]=JSON.parse(JSON.stringify(d))}});void 0==daily[e.days]&&alert("\uc785\ub825\uac12 \uc624\ub958: \uc124\uc815 \uc801\uc6a9 \uc77c\uc218\ub97c \ub2e4\uc2dc \ud55c\ubc88 \ud655\uc778\ud574\uc8fc\uc138\uc694. \uc774\ubca4\ud2b8 \uc9c4\ud589 \uc77c\uc218\ubcf4\ub2e4 \uc9e7\uac8c \uc124\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");daily[0]=JSON.parse(JSON.stringify(daily[1]));trd.gd.push(Date.now()-t2)},getMaxStamina=function(a){a=a||daily[day].level;return 60>a?60+parseInt(a/2,10):150>a?90+parseInt((a-
60)/3,10):426>a?120+parseInt((a-150)/4,10):586>a?189+parseInt((a-426)/5,10):700>a?221+parseInt((a-586)/6,10):240},checkExp=function(){for(var a;;)if(a=100*daily[day].level-50,daily[day].exp>=a)daily[day].exp-=a,daily[day].level+=1,daily[day].stamina+=getMaxStamina();else break},updatePlaytime=function(a){daily[a].playData.time=daily[a].time.live+daily[a].time.eventLive+daily[a].time.work+daily[a].time.etc},isNormaLeft=function(){if(isBoost)return!0;updatePlaytime(day);return day!=e.days&&daily[day].playData.time>=
daily[day].maxTime?!1:"3rd"!=e.type&&"4th"!=e.type||daily[day].boost!=MAX_BOOST?pointEstim()>=daily[day].playData.targetPoint?!1:pointEstim()>=targetPoint-boostPointEstim()?0<daily[day].leftQuota.eventRun&&(isBoost&&daily[day].item>=daily[day].eventRun.boost.cons||daily[day].item>=daily[day].eventRun.cons)?(daily[day].initialQuota.staminaRun=0,daily[day].initialQuota.ticketRun=0,daily[day].leftQuota.staminaRun=0,daily[day].leftQuota.ticketRun=0,!0):!1:!0:!0},boostPointEstim=function(){if("3rd"!=e.type&&
"4th"!=e.type)return 0;var a,b=0,c=0;for(a=day+1;a<=e.days;++a)b+=daily[a].initialQuota.boost.staminaRun*daily[a].staminaRun.boost.earning.point,c+=daily[a].initialQuota.boost.staminaRun*daily[a].staminaRun.boost.earning.item,b+=daily[a].initialQuota.boost.ticketRun*daily[a].ticketRun.boost.earning.point,c+=daily[a].initialQuota.boost.ticketRun*daily[a].ticketRun.boost.earning.item,b+=daily[a].initialQuota.boost.eventRun*daily[a].eventRun.boost.earning.point;return b+=parseInt(c/f.eventLive.difmm.cons,
10)*f.eventLive.difmm.point},pointEstim=function(){var a=daily[day].playData.totalPoint;return a+=parseInt(daily[day].item/f.eventLive.difmm.cons,10)*f.eventLive.difmm.point},checkBoost=function(){if("3rd"!=e.type&&"4th"!=e.type||0>=daily[day].boost||isBoost)return!1;var a=daily[day].initialQuota.boost.eventRun*daily[day].eventRun.boost.cons,b=daily[day].item;b+=daily[day].initialQuota.boost.ticketRun*daily[day].ticketRun.boost.earning.item;b+=daily[day].initialQuota.boost.staminaRun*daily[day].staminaRun.boost.earning.item;
if(b<a)return preserveItemForBoost=!0,!1;preserveItemForBoost=!1;return!0},useBoost=function(){if(0==checkBoost())return!1;--daily[day].boost;isBoost=!0;++daily[day].playData.boost;return!0},checkBoostStatus=function(){0==daily[day].leftQuota.boost.ticketRun&&0==daily[day].leftQuota.boost.eventRun&&0==daily[day].leftQuota.boost.staminaRun&&(isBoost=!1,daily[day].leftQuota.boost.ticketRun=daily[day].initialQuota.boost.ticketRun,daily[day].leftQuota.boost.eventRun=daily[day].initialQuota.boost.eventRun,
daily[day].leftQuota.boost.staminaRun=daily[day].initialQuota.boost.staminaRun)},doTicketRun=function(){checkQuota();if(isBoost){var a=daily[day].ticketRun.boost;if(0>=daily[day].leftQuota.boost.ticketRun)return!1}else if(a=daily[day].ticketRun,0>=daily[day].leftQuota.ticketRun)return!1;if(daily[day].ticket<a.cons)return!1;++daily[day].playData.ticketRun;isBoost?(--daily[day].leftQuota.boost.ticketRun,checkBoostStatus()):--daily[day].leftQuota.ticketRun;daily[day].playData.totalPoint+=a.earning.point;
daily[day].item+=a.earning.item;daily[day].fan.live+=a.earning.fan;daily[day].money.live+=a.earning.money;daily[day].affection.live+=a.earning.affection;"live"!=tabStatus&&(daily[day].time.etc+=t.goLiveTab);daily[day].time.live+=t.doLive;tabStatus="live";daily[day].ticket-=a.cons;return!0},doEventRun=function(){checkQuota();if(isBoost){var a=daily[day].eventRun.boost;if(0>=daily[day].leftQuota.boost.eventRun)return!1}else if(a=daily[day].eventRun,0>=daily[day].leftQuota.eventRun||1==preserveItemForBoost)return!1;
if(daily[day].item<a.cons)return!1;++daily[day].playData.eventRun;isBoost?(--daily[day].leftQuota.boost.eventRun,checkBoostStatus()):--daily[day].leftQuota.eventRun;daily[day].playData.totalPoint+=a.earning.point;daily[day].fan.eventLive+=a.earning.fan;daily[day].money.eventLive+=a.earning.money;daily[day].affection.eventLive+=a.earning.affection;daily[day].exp+=a.earning.exp;50>daily[day].level&&(daily[day].exp+=a.earning.exp);checkExp();"live"!=tabStatus&&(daily[day].time.etc+=t.goLiveTab);daily[day].time.eventLive+=
t.doEventLive;tabStatus="live";daily[day].item-=a.cons;return!0},doStaminaRun=function(){checkQuota();for(var a=!1,b;;){if(isBoost){if(b=daily[day].staminaRun.boost,0>=daily[day].leftQuota.boost.staminaRun)break}else if(b=daily[day].staminaRun,0>=daily[day].leftQuota.staminaRun)break;if(daily[day].stamina<b.cons)break;++daily[day].playData.staminaRun;a=!0;isBoost?(--daily[day].leftQuota.boost.staminaRun,checkBoostStatus()):--daily[day].leftQuota.staminaRun;daily[day].playData.totalPoint+=b.earning.point;
daily[day].item+=b.earning.item;daily[day].fan.live+=b.earning.fan;daily[day].money.live+=b.earning.money;daily[day].affection.live+=b.earning.affection;daily[day].exp+=b.earning.exp;50>daily[day].level&&(daily[day].exp+=b.earning.exp);checkExp();"live"!=tabStatus&&(daily[day].time.etc+=t.goLiveTab);tabStatus="live";daily[day].time.live+=t.doLive;daily[day].stamina-=b.cons}return a},doWork=function(){if(daily[day].stamina<daily[day].work.cons||daily[day].ticket+daily[day].work.earning.ticket>MAX_TICKET)return!1;
++daily[day].playData.work;daily[day].ticket+=daily[day].work.earning.ticket;daily[day].fan.work+=daily[day].work.earning.fan;daily[day].money.work+=daily[day].work.earning.money;daily[day].affection.work+=daily[day].work.earning.affection;daily[day].exp+=daily[day].work.earning.exp;50>daily[day].level&&(daily[day].exp+=daily[day].work.earning.exp);checkExp();"work"!=tabStatus&&(daily[day].time.etc+=t.goWorkTab);daily[day].time.work+=t.doWork;tabStatus="work";daily[day].stamina-=daily[day].work.cons;
return!0},useDrink=function(){var a=!1;daily[day].time.etc+=t.useDrink;for(var b;;){if(daily[day].stamina>=getMaxStamina()){var c=!0;break}c=null;b=0;0<daily[day].drink30?(c="drink30",b=30):0<daily[day].drink20?(c="drink20",b=20):0<daily[day].drink10?(c="drink10",b=10):0<daily[day].mdrink&&(c="mdrink",b=getMaxStamina());if(null==c){c=daily[day].stamina>=getMaxStamina()?!0:!1;break}a=!0;daily[day].stamina+=b;--daily[day][c]}a&&(daily[day].time.etc+=t.useDrink);return c},useJwl=function(){if(daily[day].stamina>=
getMaxStamina())return!1;daily[day].stamina+=getMaxStamina();daily[day].jwl-=50;daily[day].time.etc+=t.useJwl;return!0},useStamina=function(){for(var a;;){checkBoostStatus();checkQuota();a=isBoost?daily[day].leftQuota.boost:daily[day].leftQuota;if(0>=a.ticketRun&&0>=a.staminaRun)break;if(0<a.staminaRun){if(0==doStaminaRun())break}else if(0<a.ticketRun&&0==doWork())break}},checkQuota=function(){0>=daily[day].leftQuota.staminaRun&&0>=daily[day].leftQuota.ticketRun&&(daily[day].leftQuota.staminaRun=
daily[day].initialQuota.staminaRun,daily[day].leftQuota.ticketRun=daily[day].initialQuota.ticketRun)},useTicket=function(){return 0>=(isBoost?daily[day].leftQuota.boost:daily[day].leftQuota).ticketRun?!1:doTicketRun()},useItem=function(){return 0>=(isBoost?daily[day].leftQuota.boost:daily[day].leftQuota).eventRun?!1:doEventRun()},gotoNextDay=function(){++day;if(day>e.days)return!1;"boost level exp stamina ticket item drink10 drink20 drink30 mdrink jwl".split(" ").forEach(function(a){daily[day][a]=
daily[day-1][a]});daily[day].playData.totalPoint=daily[day-1].playData.totalPoint;if("4th"!=e.type||day!=e.days)daily[day].boost+=1;daily[day].stamina+=parseInt(daily[day].staminaUsage/100*parseInt(parseInt(daily[day].totalEventTime/60,10)/5,10),10);daily[day].item+=2*f.eventLive.difmm.cons;if("3rd"==e.type||"4th"==e.type)daily[day].stamina+=60+getMaxStamina(),daily[day].jwl+=25,"4th"==e.type&&(daily[day].item+=4E3);1==day&&1==recvBoost&&--daily[day].boost;1==day&&1==recvItem&&(daily[day].item-=2*
f.eventLive.difmm.cons);1==day&&1==recvDailyMission&&(daily[day].stamina-=60+getMaxStamina(),daily[day].jwl-=25,"4th"==e.type&&(daily[day].item-=4E3));return!0},calc=function(){t1=Date.now();for(day=0;;){var a=0;if(0==gotoNextDay())break;for(;;){if(0==isNormaLeft()){if(day==e.days)for(;useItem(););break}var b=!1;useBoost();useStamina();b=useItem()||b;if(!0!==b&&(b=useTicket()||b,!0!==b)){if(0==isNormaLeft()){if(day==e.days)for(;useItem(););break}if(1!=useDrink()&&(useJwl(),1E4<++a)){alert("\uc624\ub958: \ub108\ubb34 \ub9ce\uc740 \ub8e8\ud504");
console.log("too many loops");return}}}getTotalPlaytime()}trd.calc.push(Date.now()-t1)},getTotalPlaytime=function(){var a,b=0;for(a=1;a<=e.days;++a)updatePlaytime(a),b+=daily[a].playData.time;return b},calcDailyPlaytime=function(){var a,b=Infinity,c=-Infinity;for(a=1;a<=e.days;++a)updatePlaytime(a),daily[a].playData.time<b&&(b=daily[a].playData.time);for(a=1;a<=e.days;++a)updatePlaytime(a),daily[a].playData.time>c&&(c=daily[a].playData.time);return Math.ceil((b+c)/2)},boost={staminaRun:0,ticketRun:0,
eventRun:0},simul=function(){var a=Date.now();worstCase=!0;var b=-Infinity,c=[0,0,0];for(boost.staminaRun=0;10>=boost.staminaRun;++boost.staminaRun)for(boost.ticketRun=0;boost.ticketRun<=10-boost.staminaRun;++boost.ticketRun){boost.eventRun=10-(boost.staminaRun+boost.ticketRun);init();calc();var g=(daily[e.days].jwl+50*daily[e.days].mdrink)*getMaxStamina(daily[e.days].level)+(10*daily[e.days].drink10+20*daily[e.days].drink20+30*daily[e.days].drink30);g>b&&(b=g,c=[boost.staminaRun,boost.ticketRun,
boost.eventRun])}console.log("bestset:",c);boost.staminaRun=c[0];boost.ticketRun=c[1];boost.eventRun=c[2];init();calc();print("result-worst");console.log(Date.now()-a,"ms \uc18c\uc694")};